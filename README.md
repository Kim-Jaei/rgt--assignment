# ğŸ“š ì¬ì´ì„œì  (RGT Bookstore)

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

> **ì˜¨ë¼ì¸ ì„œì **ìœ¼ë¡œ, ì±… ëª©ë¡ ì¡°íšŒ, íŒë§¤ í†µê³„, ì±… ë“±ë¡, ì±… ì‚­ì œ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.  
> í”„ë¡ íŠ¸ì—”ë“œëŠ” Next.js (TypeScript), ë°±ì—”ë“œëŠ” Node.js(Express)ë¡œ êµ¬í˜„í•˜ì˜€ìœ¼ë©°
> Herokuì™€ Vercelì„ ì‚¬ìš©í•´ ë°°í¬í–ˆìŠµë‹ˆë‹¤.

<p align="center">
  <img src="./jibs.png" alt="ë©”ì¸ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·" width="800px">
</p>

---

## ğŸ“– ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)  
2. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)  
3. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)  
4. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)  
5. [ì„¤ì¹˜ ë°©ë²• (ë¡œì»¬)](#ì„¤ì¹˜-ë°©ë²•-ë¡œì»¬)  
6. [ë°°í¬ (Heroku & Vercel)](#ë°°í¬-heroku--vercel)  
7. [ì‹¤í–‰ ë°©ë²•](#ì‹¤í–‰-ë°©ë²•)  
8. [ì½”ë“œ ìƒì„¸](#ì½”ë“œ-ìƒì„¸)  
   - [ë°±ì—”ë“œ êµ¬ì¡°](#ë°±ì—”ë“œ-êµ¬ì¡°)  
   - [í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°](#í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°)  
9. [ì‹œì—° ì˜ìƒ/ìŠ¤í¬ë¦°ìƒ·](#ì‹œì—°-ì˜ìƒìŠ¤í¬ë¦°ìƒ·)  
10. [ê°œë°œ í™˜ê²½](#ê°œë°œ-í™˜ê²½)  
11. [í´ë” êµ¬ì¡°](#í´ë”-êµ¬ì¡°)  

---

## í”„ë¡œì íŠ¸ ê°œìš”
**ì¬ì´ì„œì **ì€ ê°„ë‹¨í•œ ì˜¨ë¼ì¸ ì„œì  ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.  
- ì±… ëª©ë¡ ì¡°íšŒ, ê²€ìƒ‰/í•„í„°, íŒë§¤ í†µê³„, ì±… ë“±ë¡/ì‚­ì œ, ì±… ìƒì„¸ ë³´ê¸° ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.  
- **í”„ë¡ íŠ¸ì—”ë“œ**ëŠ” Next.js + TypeScriptë¡œ ê°œë°œ, **ë°±ì—”ë“œ**ëŠ” Express + TypeScriptë¡œ ê°œë°œí–ˆìŠµë‹ˆë‹¤.  
- **Heroku**(ë°±ì—”ë“œ)ì™€ **Vercel**(í”„ë¡ íŠ¸ì—”ë“œ)ì— ë°°í¬ë˜ì–´, ëˆ„êµ¬ë‚˜ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ë°°í¬ ì£¼ì†Œ
- **í”„ë¡ íŠ¸ì—”ë“œ (Vercel)**: [https://rgt-assignment-orcin.vercel.app/](https://rgt-assignment-orcin.vercel.app/)  
- **ë°±ì—”ë“œ (Heroku)**: [https://my-backend-app-rgtbookstore-dc3bf12d7286.herokuapp.com/api/books](https://my-backend-app-rgtbookstore-dc3bf12d7286.herokuapp.com/api/books)  
- **GitHub Repo**: [https://github.com/Kim-Jaei/rgt--assignment](https://github.com/Kim-Jaei/rgt--assignment)

---

## ì£¼ìš” ê¸°ëŠ¥
1. **ì±… ëª©ë¡ ì¡°íšŒ**  
   - ì œëª©/ì €ì ê²€ìƒ‰, ê°€ê²©ëŒ€ í•„í„°, ì •ë ¬(ì œëª©/ì €ì/ê°€ê²©/íŒë§¤ëŸ‰)  
   - í˜ì´ì§€ë„¤ì´ì…˜(í•œ í˜ì´ì§€ë‹¹ 10ê°œ)

2. **ì±… ìƒì„¸ ë³´ê¸°**  
   - ì±…ì˜ ê°€ê²©, ì €ì, íŒë§¤ëŸ‰ í™•ì¸  
   - ì±… ì‚­ì œ ê¸°ëŠ¥

3. **ì±… ë“±ë¡**  
   - ìƒˆ ì±… ì œëª©, ì €ì, ê°€ê²©, íŒë§¤ëŸ‰ ì…ë ¥ ê°€ëŠ¥

4. **íŒë§¤ í†µê³„**  
   - ì´ íŒë§¤ ìˆ˜ëŸ‰, ì´ ë§¤ì¶œì•¡, ë“±ë¡ëœ ì±… ìˆ˜, ì±…ë‹¹ í‰ê·  íŒë§¤ëŸ‰  
   - ë² ìŠ¤íŠ¸ì…€ëŸ¬ Top 5(Bar Chart), ê°€ê²©ëŒ€ë³„ íŒë§¤ ë¶„í¬(Pie Chart)

5. **ê²€ìƒ‰/í•„í„° ì´ˆê¸°í™”**  
   - í—¤ë”ì˜ "ì¬ì´ì„œì " í˜¹ì€ "í™ˆ" í´ë¦­ ì‹œ ì „ì²´ í•„í„°/ê²€ìƒ‰ ë¦¬ì…‹

---

## ê¸°ìˆ  ìŠ¤íƒ

### ğŸ“± í”„ë¡ íŠ¸ì—”ë“œ
- **Next.js** (TypeScript)
- **React** (Hooks, Functional Components)
- **Recharts** (ë°ì´í„° ì‹œê°í™”)
- **Vercel** (ë°°í¬)

### ğŸŒ ë°±ì—”ë“œ
- **Node.js** + **Express** (TypeScript)
- **Heroku** (ë°°í¬)
- **axios** (í”„ë¡ íŠ¸-ë°±ì—”ë“œ í†µì‹ )
- **RESTful API**

### ğŸ›  ê³µí†µ
- **Git / GitHub** (ì†ŒìŠ¤ ê´€ë¦¬)
- **npm** (íŒ¨í‚¤ì§€ ê´€ë¦¬)
- **ESLint / Prettier** (ì½”ë“œ í’ˆì§ˆ)

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
+----------------+        +------------------+
| Next.js        | -----> | Express Server   |
| (Vercel)       | <----- | (Heroku)         |
+----------------+        +------------------+
^
|
v
+----------------+
| Browser        |
+----------------+

í”„ë¡ íŠ¸ì—”ë“œ(Vercel): ì •ì  íŒŒì¼ + SSR(Next.js)  
ë°±ì—”ë“œ(Heroku): Node.js/Express ì„œë²„  
Browserì—ì„œ Vercelë¡œ ì ‘ì† â†’ Vercelì´ Heroku API í˜¸ì¶œ â†’ JSON ë°ì´í„° ë°˜í™˜

---

## ì„¤ì¹˜ ë°©ë²• (ë¡œì»¬)
í…ŒìŠ¤íŠ¸ í™˜ê²½: Ubuntu 18.04

1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/Kim-Jaei/rgt--assignment.git
cd rgt--assignment
```

2. í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì¹˜
```bash
cd frontend
npm install
```

.env.local(ì˜µì…˜):
```bash
NEXT_PUBLIC_API_URL=http://localhost:4000/api
```
ë¡œì»¬ì—ì„œ ë°±ì—”ë“œë¥¼ ë„ìš´ ë’¤ í”„ë¡ íŠ¸ì—”ë“œê°€ ì´ ì£¼ì†Œë¥¼ í˜¸ì¶œ

3. ë°±ì—”ë“œ ì„¤ì¹˜
```bash
cd ../backend
npm install
```

.env(ì˜µì…˜):
```ini
PORT=4000
```

---

## ì‹¤í–‰ ë°©ë²•

### 4. ë¹Œë“œ & ì‹¤í–‰
#### ë°±ì—”ë“œ

```bash
cd backend
npm run build
npm start
```
â†’ http://localhost:4000 ì—ì„œ ì„œë²„ ì‹¤í–‰

#### í”„ë¡ íŠ¸ì—”ë“œ

```bash
cd frontend
npm run dev
```
â†’ http://localhost:3000 ì—ì„œ í”„ë¡ íŠ¸ ì‹¤í–‰

---

## ë°°í¬ (Heroku & Vercel)

### 1. Heroku ë°°í¬ (ë°±ì—”ë“œ)
- Heroku CLI ì„¤ì¹˜ í›„ ë¡œê·¸ì¸
- Heroku ì•± ìƒì„±
```bash
heroku create my-backend-app-rgtbookstore
```
- Procfile í™•ì¸
```bash
# Procfile
web: node dist/index.js
```
- ë°°í¬
```bash
cd backend
git init
git add .
git commit -m "Deploy backend"
heroku git:remote -a my-backend-app-rgtbookstore
git push heroku master
```
- ë¡œê·¸ í™•ì¸
```bash
heroku logs --tail
```

### 2. Vercel ë°°í¬ (í”„ë¡ íŠ¸ì—”ë“œ)
- Vercel ê³„ì • ìƒì„± ë° GitHub ì—°ë™
- New Project â†’ GitHub Repo ì„ íƒ â†’ Build ì„¤ì • ìë™ ê°ì§€
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
  - `NEXT_PUBLIC_API_URL=https://my-backend-app-rgtbookstore.herokuapp.com/api`
- Deploy ë²„íŠ¼ í´ë¦­
- ë°°í¬ ì™„ë£Œ í›„ Vercel ë„ë©”ì¸ í™•ì¸

---

## ì‹¤í–‰ ë°©ë²•
### ë¡œì»¬
- ë°±ì—”ë“œ: npm run build && npm start (í¬íŠ¸ 4000)
- í”„ë¡ íŠ¸ì—”ë“œ: npm run dev (í¬íŠ¸ 3000)
- ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†

### ë°°í¬
- í”„ë¡ íŠ¸: https://rgt-assignment-orcin.vercel.app/
- ë°±ì—”ë“œ: https://my-backend-app-rgtbookstore-dc3bf12d7286.herokuapp.com/api/books

---

## ì½”ë“œ ìƒì„¸
### ë°±ì—”ë“œ êµ¬ì¡°
```
backend/
 â”£ src/
 â”ƒ â”£ controllers/
 â”ƒ â”ƒ â”— booksController.ts
 â”ƒ â”£ routes/
 â”ƒ â”ƒ â”— bookRoutes.ts
 â”ƒ â”£ index.ts
 â”ƒ â”— ...
 â”— package.json
```

#### 1) index.ts
```typescript
import express from 'express';
import cors from 'cors';
import bookRoutes from './routes/bookRoutes';

const app = express();
app.use(cors());
app.use(express.json());

app.use('/api/books', bookRoutes);

app.get('/', (req, res) => {
  res.send('Hello from backend!');
});

const PORT = process.env.PORT || 4000;
app.listen(PORT, () => {
  console.log(`Backend running on port ${PORT}`);
});
```
- Express ì´ˆê¸° ì„¤ì •
- cors()ë¡œ CORS í—ˆìš©
- express.json()ìœ¼ë¡œ JSON ë³¸ë¬¸ íŒŒì‹±
- ë¼ìš°íŠ¸ ì—°ê²°: /api/books â†’ bookRoutes
- Heroku í¬íŠ¸ í™˜ê²½ ë³€ìˆ˜(PORT) ì‚¬ìš©

#### 2) bookRoutes.ts
```typescript
import { Router } from 'express';
import {
  getBooks,
  getBookById,
  createBook,
  updateBook,
  deleteBook,
  getSalesStats,
} from '../controllers/booksController';

const router = Router();

router.get('/', getBooks);
router.get('/sales', getSalesStats);
router.get('/:id', getBookById);
router.post('/', createBook);
router.put('/:id', updateBook);
router.delete('/:id', deleteBook);

export default router;
```
- RESTful ë¼ìš°íŒ…
- GET /api/books : ì±… ëª©ë¡ ì¡°íšŒ
- GET /api/books/sales : íŒë§¤ í†µê³„
- POST /api/books : ìƒˆ ì±… ë“±ë¡
- DELETE /api/books/:id : ì±… ì‚­ì œ
- ê°ê°ì˜ ìš”ì²­ì´ booksControllerì˜ ë©”ì„œë“œë¡œ ì—°ê²°ë¨

#### 3) booksController.ts
```typescript
import { Request, Response } from 'express';

let books = [ /* ì´ˆê¸° ì±… ë°ì´í„° 53ê°œ */ ];

export const getBooks = (req: Request, res: Response) => {
  // ê²€ìƒ‰, ê°€ê²©ëŒ€ í•„í„°, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ ë¡œì§
  // ì‘ë‹µ: { total, books: [...10ê°œ ì±…...] }
};

export const getBookById = (req: Request, res: Response) => {
  // íŠ¹ì • IDì˜ ì±… ì°¾ê¸°
};

export const createBook = (req: Request, res: Response) => {
  // ìƒˆ ì±… ìƒì„±
};

export const updateBook = (req: Request, res: Response) => {
  // ì±… ìˆ˜ì •
};

export const deleteBook = (req: Request, res: Response) => {
  // ì±… ì‚­ì œ
};

export const getSalesStats = (req: Request, res: Response) => {
  // íŒë§¤ í†µê³„: ì´íŒë§¤ëŸ‰, ì´ë§¤ì¶œ, ë² ìŠ¤íŠ¸ì…€ëŸ¬, ê°€ê²©ëŒ€ë³„ íŒë§¤ ë¶„í¬
};
```
- books ë°°ì—´: DB ì—†ì´ í•˜ë“œì½”ë”©ëœ ì±… ëª©ë¡
- getBooks
  - req.queryë¡œ search, minPrice, maxPrice, sortBy, order, page, limit ë°›ìŒ
  - í•„í„°, ì •ë ¬, ìŠ¬ë¼ì´ìŠ¤ â†’ res.json({ total, books: ... })
- deleteBook
  - req.params.idë¥¼ ìˆ«ìë¡œ ë³€í™˜ í›„ books.splice
- getSalesStats
  - reduce()ë¡œ ì´íŒë§¤ëŸ‰, ì´ë§¤ì¶œ ê³„ì‚°
  - sort()ë¡œ ë² ìŠ¤íŠ¸ì…€ëŸ¬, priceRanges ê³„ì‚°

---

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°
```
frontend/
 â”£ pages/
 â”ƒ â”£ index.tsx          # ë©”ì¸ í˜ì´ì§€ (ì±… ëª©ë¡)
 â”ƒ â”£ books/
 â”ƒ â”ƒ â”£ [id].tsx         # ì±… ìƒì„¸
 â”ƒ â”ƒ â”— new.tsx          # ìƒˆ ì±… ë“±ë¡
 â”ƒ â”£ stats.tsx          # íŒë§¤ í†µê³„
 â”ƒ â”— _app.tsx
 â”£ components/
 â”ƒ â”£ Layout.tsx         # ê³µí†µ ë ˆì´ì•„ì›ƒ (í—¤ë”/í‘¸í„°)
 â”ƒ â”— BookCard.tsx       # ì±… ëª©ë¡ ì¹´ë“œ
 â”£ services/
 â”ƒ â”— api.ts             # axios ì„¤ì •
 â”£ types/
 â”ƒ â”— Book.ts            # Book íƒ€ì… ì •ì˜
 â”— styles/globals.css
```

#### 1) index.tsx (ë©”ì¸ í˜ì´ì§€)
```typescript
export default function Home() {
  // ì±… ëª©ë¡(books), ê²€ìƒ‰/í•„í„°/í˜ì´ì§€ë„¤ì´ì…˜ ìƒíƒœ, error, loading ë“±
  // fetchBooks()ë¡œ ë°±ì—”ë“œ í˜¸ì¶œ
  // BookCard ì»´í¬ë„ŒíŠ¸ë¡œ ëª©ë¡ í‘œì‹œ
}
```
- ê²€ìƒ‰/í•„í„°/í˜ì´ì§€ë„¤ì´ì…˜
- URLSearchParamsë¡œ ì¿¼ë¦¬ ìƒì„± â†’ api.get(...)
- ì‘ë‹µì´ { total, books }ì´ë©´ setBooks(books), setTotalPages(...)
- ë Œë”ë§: .book-grid CSSë¡œ ì˜ˆì˜ê²Œ í‘œì‹œ, BookCardì— propsë¡œ ì „ë‹¬

#### 2) BookCard.tsx
```typescript
const BookCard: React.FC<{ book: Book }> = ({ book }) => {
  // ë§ˆìš°ìŠ¤ hover ì‹œ scale(1.05)
  // í‘œì§€ ìƒ‰ìƒ: HSL((id * 20) % 360, ...)
  // title substring(0,1) í‘œì‹œ
};
```
- ì±…ì˜ ì²« ê¸€ìë§Œ í‘œì§€ë¡œ í¬ê²Œ í‘œì‹œ
- í´ë¦­ ì‹œ /books/[id] ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™

#### 3) new.tsx (ìƒˆ ì±… ë“±ë¡)
```typescript
export default function NewBookPage() {
  // title, author, price, sales
  // api.post('/books', { ... })
}
```
- ì„±ê³µ ì‹œ "ë“±ë¡ ì„±ê³µ" ë©”ì‹œì§€ í‘œì‹œ
- "ë“±ë¡ ì¤‘â€¦" ë¡œë”© ìƒíƒœ

#### 4) [id].tsx (ì±… ìƒì„¸ í˜ì´ì§€)
```typescript
export default function BookDetailPage() {
  // router.query.id
  // api.get(`/books/${id}`)
  // handleDelete() -> api.delete(`/books/${id}`)
}
```
- handleDelete í´ë¦­ ì‹œ confirm â†’ ì‚­ì œ í›„ í™ˆìœ¼ë¡œ ì´ë™

#### 5) stats.tsx (íŒë§¤ í†µê³„)
```typescript
export default function Stats() {
  // api.get('/books/sales')
  // totalSales, totalRevenue, etc.
  // BarChart, PieChart (recharts)
}
```
- ResponsiveContainer + chart â†’ ë°˜ì‘í˜• ì°¨íŠ¸
- "ê°€ê²©ëŒ€ë³„ íŒë§¤ ë¶„í¬" PieChart

#### 6) Layout.tsx
```typescript
const Layout: React.FC<LayoutProps> = ({ children, title = 'ì¬ì´ì„œì ' }) => {
  // ê³µí†µ í—¤ë”/í‘¸í„°
  // í—¤ë”: ì¬ì´ì„œì  ë¡œê³ , í™ˆ/íŒë§¤ í†µê³„/ì±… ë“±ë¡ ë©”ë‰´
  // ë©”ì¸: children
  // í‘¸í„°: Â© ì¬ì´ì„œì 
};
```
- í—¤ë” "ì¬ì´ì„œì " í´ë¦­ ì‹œ window.location.reload() â†’ í•„í„°/ê²€ìƒ‰ ì´ˆê¸°í™”
- CSS: globals.cssì—ì„œ .layout, .header, .footer ë“±

#### 7) api.ts
```typescript
import axios from 'axios';

const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000/api';

const api = axios.create({
  baseURL: API_URL,
  headers: { 'Content-Type': 'application/json' },
});

export default {
  get: (url: string) => api.get(url),
  post: (url: string, data: any) => api.post(url, data),
  put: (url: string, data: any) => api.put(url, data),
  delete: (url: string) => api.delete(url),
};
```
- NEXT_PUBLIC_API_URL: Vercel í™˜ê²½ ë³€ìˆ˜ë¡œ Heroku ë°±ì—”ë“œ ì£¼ì†Œ
- fallback: localhost:4000/api

---

## ì‹œì—° ì˜ìƒ/ìŠ¤í¬ë¦°ìƒ·

| ë©”ì¸ í˜ì´ì§€ | ì±… ìƒì„¸ | íŒë§¤ í†µê³„ |
|:-:|:-:|:-:|
| <img src="./README_IMAGES/main.gif" width="300px"> | <img src="./README_IMAGES/detail.gif" width="300px"> | <img src="./README_IMAGES/stats.gif" width="300px"> |

- ë©”ì¸: ê²€ìƒ‰/í•„í„°/ì •ë ¬ & í˜ì´ì§€ë„¤ì´ì…˜
- ìƒì„¸: ì±… ì‚­ì œ ê°€ëŠ¥
- íŒë§¤ í†µê³„: BarChart, PieChart

---

## ê°œë°œ í™˜ê²½
- OS: Ubuntu 18.04 LTS
- Node.js: v16.x
- npm: v8.x
- IDE: VSCode
- Browser: Chrome, Firefox

---

## í´ë” êµ¬ì¡°
```
rgt--assignment/
 â”£ frontend/      # Next.js í”„ë¡œì íŠ¸
 â”ƒ â”£ pages/       # í˜ì´ì§€ ë¼ìš°íŒ…
 â”ƒ â”£ components/  # Layout, BookCard ë“±
 â”ƒ â”£ services/    # api.ts (axios ì„¤ì •)
 â”ƒ â”£ ...
 â”£ backend/       # Node.js + Express ì„œë²„
 â”ƒ â”£ src/
 â”ƒ â”ƒ â”£ controllers/
 â”ƒ â”ƒ â”£ routes/
 â”ƒ â”ƒ â”— index.ts
 â”ƒ â”£ dist/
 â”ƒ â”£ package.json
 â”— README.md      # ë³¸ ë¬¸ì„œ
```
